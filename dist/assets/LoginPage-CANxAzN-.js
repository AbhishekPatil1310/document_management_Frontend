import{j as e}from"./query-BkJnI4n_.js";import{u as N,c as y,a as l,L as p}from"./router-Bpws6W79.js";import{u as E,a as P,b as S,s as k,n as L}from"./index-Dbt0Mu8K.js";import{u as A,v as C,a as D}from"./validation-A9E-SL_Q.js";import"./redux-LWk2volp.js";function R(){const x=N(),b=y(),g=E(),{pushToast:f}=P(),t=A(),[a,h]=l.useState(""),[r,j]=l.useState(""),[i,o]=l.useState(""),v=async s=>{var u,m;s.preventDefault();const c=C(a),d=D(r);if(c||d){o(c||d);return}o("");try{await t.mutateAsync({email:a,password:r});const n=await S.me();g(k({userId:n.userId})),f("Logged in successfully","success");const w=((m=(u=b.state)==null?void 0:u.from)==null?void 0:m.pathname)||"/";x(w,{replace:!0})}catch(n){o(L(n).message)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Welcome back"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Sign in to access your legal vault."}),e.jsxs("form",{className:"mt-6 space-y-4",onSubmit:v,children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Email"}),e.jsx("input",{"aria-label":"Email address",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",type:"email",autoComplete:"email",value:a,onChange:s=>h(s.target.value)})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Password"}),e.jsx("input",{"aria-label":"Password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",type:"password",autoComplete:"current-password",value:r,onChange:s=>j(s.target.value)})]}),i?e.jsx("p",{className:"text-sm text-rose-600",children:i}):null,e.jsx("button",{className:"w-full rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-70",type:"submit",disabled:t.isPending,children:t.isPending?"Signing in...":"Sign in"})]}),e.jsxs("div",{className:"mt-4 flex justify-between text-sm",children:[e.jsx(p,{className:"text-brand-700 hover:underline",to:"/register",children:"Create account"}),e.jsx(p,{className:"text-brand-700 hover:underline",to:"/forgot-password",children:"Forgot password?"})]})]})}export{R as default};
//# sourceMappingURL=LoginPage-CANxAzN-.js.map
