{"version":3,"file":"ForgotPasswordPage-D7tqz3Mo.js","sources":["../../src/pages/ForgotPasswordPage.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useForgotPassword } from \"../features/auth/hooks/useAuthMutations\";\nimport { normalizeApiError } from \"../api/errors\";\nimport { validateEmail } from \"../utils/validation\";\nimport { useToast } from \"../components/ui/ToastProvider\";\n\nexport default function ForgotPasswordPage() {\n  const { pushToast } = useToast();\n  const forgotMutation = useForgotPassword();\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const emailErr = validateEmail(email);\n    if (emailErr) {\n      setError(emailErr);\n      return;\n    }\n    setError(\"\");\n\n    try {\n      const result = await forgotMutation.mutateAsync(email);\n      pushToast(result.message, \"info\");\n    } catch (err) {\n      setError(normalizeApiError(err).message);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold text-slate-900\">Forgot password</h2>\n      <p className=\"mt-1 text-sm text-slate-600\">\n        Enter your email. If it exists, a reset link will be issued.\n      </p>\n      <form className=\"mt-6 space-y-4\" onSubmit={onSubmit}>\n        <label className=\"block\">\n          <span className=\"mb-1 block text-sm font-medium text-slate-700\">Email</span>\n          <input\n            aria-label=\"Email address\"\n            className=\"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100\"\n            type=\"email\"\n            autoComplete=\"email\"\n            value={email}\n            onChange={(event) => setEmail(event.target.value)}\n          />\n        </label>\n        {error ? <p className=\"text-sm text-rose-600\">{error}</p> : null}\n        <button\n          className=\"w-full rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-70\"\n          type=\"submit\"\n          disabled={forgotMutation.isPending}\n        >\n          {forgotMutation.isPending ? \"Sending...\" : \"Send reset link\"}\n        </button>\n      </form>\n      <p className=\"mt-4 text-sm text-slate-600\">\n        <Link className=\"text-brand-700 hover:underline\" to=\"/login\">\n          Back to login\n        </Link>\n      </p>\n    </div>\n  );\n}\n"],"names":["ForgotPasswordPage","pushToast","useToast","forgotMutation","useForgotPassword","email","setEmail","useState","error","setError","onSubmit","event","emailErr","validateEmail","result","err","normalizeApiError","jsx","jsxs","Link"],"mappings":"uNAOA,SAAwBA,GAAqB,CAC3C,KAAM,CAAE,UAAAC,CAAA,EAAcC,EAAA,EAChBC,EAAiBC,EAAA,EACjB,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAS,EAAE,EAE/BG,EAAW,MAAOC,GAA4C,CAClEA,EAAM,eAAA,EACN,MAAMC,EAAWC,EAAcR,CAAK,EACpC,GAAIO,EAAU,CACZH,EAASG,CAAQ,EACjB,MACF,CACAH,EAAS,EAAE,EAEX,GAAI,CACF,MAAMK,EAAS,MAAMX,EAAe,YAAYE,CAAK,EACrDJ,EAAUa,EAAO,QAAS,MAAM,CAClC,OAASC,EAAK,CACZN,EAASO,EAAkBD,CAAG,EAAE,OAAO,CACzC,CACF,EAEA,cACG,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,kBAAe,EACrEA,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA8B,SAAA,+DAE3C,EACAC,EAAAA,KAAC,OAAA,CAAK,UAAU,iBAAiB,SAAAR,EAC/B,SAAA,CAAAQ,EAAAA,KAAC,QAAA,CAAM,UAAU,QACf,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,gDAAgD,SAAA,QAAK,EACrEA,EAAAA,IAAC,QAAA,CACC,aAAW,gBACX,UAAU,0IACV,KAAK,QACL,aAAa,QACb,MAAOZ,EACP,SAAWM,GAAUL,EAASK,EAAM,OAAO,KAAK,CAAA,CAAA,CAClD,EACF,EACCH,EAAQS,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,WAAM,EAAO,KAC5DA,EAAAA,IAAC,SAAA,CACC,UAAU,iHACV,KAAK,SACL,SAAUd,EAAe,UAExB,SAAAA,EAAe,UAAY,aAAe,iBAAA,CAAA,CAC7C,EACF,EACAc,EAAAA,IAAC,IAAA,CAAE,UAAU,8BACX,SAAAA,EAAAA,IAACE,EAAA,CAAK,UAAU,iCAAiC,GAAG,SAAS,SAAA,eAAA,CAE7D,CAAA,CACF,CAAA,EACF,CAEJ"}