import{j as s}from"./query-BkJnI4n_.js";import{u as w,h as b,a as o,L as f}from"./router-Bpws6W79.js";import{d as g,a as h}from"./validation-A9E-SL_Q.js";import{a as N,n as j}from"./index-Dbt0Mu8K.js";import"./redux-LWk2volp.js";function R(){const d=w(),{pushToast:m}=N(),[n]=b(),l=o.useMemo(()=>n.get("token")||"",[n]),t=g(),[a,u]=o.useState(""),[i,e]=o.useState(""),p=async r=>{r.preventDefault();const c=h(a);if(c){e(c);return}if(!l){e("Invalid reset token.");return}e("");try{await t.mutateAsync({token:l,newPassword:a}),m("Password reset successful. Please sign in.","success"),d("/login",{replace:!0})}catch(x){e(j(x).message)}};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Reset password"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Set a new password for your account."}),s.jsxs("form",{className:"mt-6 space-y-4",onSubmit:p,children:[s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"mb-1 block text-sm font-medium text-slate-700",children:"New password"}),s.jsx("input",{"aria-label":"New password",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",type:"password",autoComplete:"new-password",value:a,onChange:r=>u(r.target.value)})]}),i?s.jsx("p",{className:"text-sm text-rose-600",children:i}):null,s.jsx("button",{className:"w-full rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-70",type:"submit",disabled:t.isPending,children:t.isPending?"Updating...":"Reset password"})]}),s.jsx("p",{className:"mt-4 text-sm text-slate-600",children:s.jsx(f,{className:"text-brand-700 hover:underline",to:"/login",children:"Back to login"})})]})}export{R as default};
//# sourceMappingURL=ResetPasswordPage-Cm1R2e0W.js.map
