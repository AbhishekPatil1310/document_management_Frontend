{"version":3,"file":"RegisterPage-CCtnMgj9.js","sources":["../../src/pages/RegisterPage.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { normalizeApiError } from \"../api/errors\";\nimport { useRegister } from \"../features/auth/hooks/useAuthMutations\";\nimport { useToast } from \"../components/ui/ToastProvider\";\nimport { validateEmail, validatePassword } from \"../utils/validation\";\n\nexport default function RegisterPage() {\n  const navigate = useNavigate();\n  const { pushToast } = useToast();\n  const registerMutation = useRegister();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const emailErr = validateEmail(email);\n    const passErr = validatePassword(password);\n    if (emailErr || passErr) {\n      setError(emailErr || passErr);\n      return;\n    }\n    setError(\"\");\n    try {\n      await registerMutation.mutateAsync({ email, password });\n      pushToast(\"Registration successful. Please sign in.\", \"success\");\n      navigate(\"/login\", { replace: true });\n    } catch (err) {\n      setError(normalizeApiError(err).message);\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-semibold text-slate-900\">Create account</h2>\n      <p className=\"mt-1 text-sm text-slate-600\">Start storing legal files securely.</p>\n      <form className=\"mt-6 space-y-4\" onSubmit={onSubmit}>\n        <label className=\"block\">\n          <span className=\"mb-1 block text-sm font-medium text-slate-700\">Email</span>\n          <input\n            aria-label=\"Email address\"\n            className=\"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100\"\n            type=\"email\"\n            autoComplete=\"email\"\n            value={email}\n            onChange={(event) => setEmail(event.target.value)}\n          />\n        </label>\n        <label className=\"block\">\n          <span className=\"mb-1 block text-sm font-medium text-slate-700\">Password</span>\n          <input\n            aria-label=\"Password\"\n            className=\"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100\"\n            type=\"password\"\n            autoComplete=\"new-password\"\n            value={password}\n            onChange={(event) => setPassword(event.target.value)}\n          />\n        </label>\n        {error ? <p className=\"text-sm text-rose-600\">{error}</p> : null}\n        <button\n          className=\"w-full rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-70\"\n          type=\"submit\"\n          disabled={registerMutation.isPending}\n        >\n          {registerMutation.isPending ? \"Creating...\" : \"Create account\"}\n        </button>\n      </form>\n      <p className=\"mt-4 text-sm text-slate-600\">\n        Already have an account?{\" \"}\n        <Link className=\"text-brand-700 hover:underline\" to=\"/login\">\n          Sign in\n        </Link>\n      </p>\n    </div>\n  );\n}\n"],"names":["RegisterPage","navigate","useNavigate","pushToast","useToast","registerMutation","useRegister","email","setEmail","useState","password","setPassword","error","setError","onSubmit","event","emailErr","validateEmail","passErr","validatePassword","err","normalizeApiError","jsx","jsxs","Link"],"mappings":"qOAOA,SAAwBA,GAAe,CACrC,MAAMC,EAAWC,EAAA,EACX,CAAE,UAAAC,CAAA,EAAcC,EAAA,EAChBC,EAAmBC,EAAA,EACnB,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAE,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,EAAE,EAE/BK,EAAW,MAAOC,GAA4C,CAClEA,EAAM,eAAA,EACN,MAAMC,EAAWC,EAAcV,CAAK,EAC9BW,EAAUC,EAAiBT,CAAQ,EACzC,GAAIM,GAAYE,EAAS,CACvBL,EAASG,GAAYE,CAAO,EAC5B,MACF,CACAL,EAAS,EAAE,EACX,GAAI,CACF,MAAMR,EAAiB,YAAY,CAAE,MAAAE,EAAO,SAAAG,EAAU,EACtDP,EAAU,2CAA4C,SAAS,EAC/DF,EAAS,SAAU,CAAE,QAAS,EAAA,CAAM,CACtC,OAASmB,EAAK,CACZP,EAASQ,EAAkBD,CAAG,EAAE,OAAO,CACzC,CACF,EAEA,cACG,MAAA,CACC,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,iBAAc,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA8B,SAAA,sCAAmC,EAC9EC,EAAAA,KAAC,OAAA,CAAK,UAAU,iBAAiB,SAAAT,EAC/B,SAAA,CAAAS,EAAAA,KAAC,QAAA,CAAM,UAAU,QACf,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,gDAAgD,SAAA,QAAK,EACrEA,EAAAA,IAAC,QAAA,CACC,aAAW,gBACX,UAAU,0IACV,KAAK,QACL,aAAa,QACb,MAAOf,EACP,SAAWQ,GAAUP,EAASO,EAAM,OAAO,KAAK,CAAA,CAAA,CAClD,EACF,EACAQ,EAAAA,KAAC,QAAA,CAAM,UAAU,QACf,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,gDAAgD,SAAA,WAAQ,EACxEA,EAAAA,IAAC,QAAA,CACC,aAAW,WACX,UAAU,0IACV,KAAK,WACL,aAAa,eACb,MAAOZ,EACP,SAAWK,GAAUJ,EAAYI,EAAM,OAAO,KAAK,CAAA,CAAA,CACrD,EACF,EACCH,EAAQU,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,WAAM,EAAO,KAC5DA,EAAAA,IAAC,SAAA,CACC,UAAU,iHACV,KAAK,SACL,SAAUjB,EAAiB,UAE1B,SAAAA,EAAiB,UAAY,cAAgB,gBAAA,CAAA,CAChD,EACF,EACAkB,EAAAA,KAAC,IAAA,CAAE,UAAU,8BAA8B,SAAA,CAAA,2BAChB,UACxBC,EAAA,CAAK,UAAU,iCAAiC,GAAG,SAAS,SAAA,SAAA,CAE7D,CAAA,CAAA,CACF,CAAA,EACF,CAEJ"}